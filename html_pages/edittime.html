<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.css">
</head>
<body>
    <div style="margin: 20px;">
        <form action="doctors.php" method="POST" id="edit_availability_form">
            <label for="doc_name">Name</label>
            <input type="text" name="doc_name" id="doc_name" readonly>
            
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle" type="button" 
                id="nameButton" 
                style="background-color: #40a2af;border: none;color: rgb(255, 255, 255); font-family: 'Trirong', serif;" 
                data-bs-toggle="dropdown" aria-expanded="false" value="" >
                Select your name 
                </button>
                <ul class="dropdown-menu" id="nameList" style="height: 300px;overflow: scroll;">
                    <li>
                        <div class="input-group mb-3">
                            <!-- <span class="input-group-text" id="basic-addon1"><img src="search.png" alt="" style="width: 20px;height: 20px;"></span> -->
                            <input type="text" class="form-control" onkeyup="searchID()"  id="searchforId" placeholder="Search..." aria-label="Username" aria-describedby="basic-addon1">
                        </div>
                    </li>
                </ul>
            </div><br>
            <label for="doctor_id">ID</label>
            <input type="text" name="doctor_id" id="doctor_id" readonly><br><br>
            <label for="date">Select date</label>
            <input type="date" name="date" id="date"><br><br>
            <h4>Availability time</h4> <br>
            <label for="av_from_time">From</label>
            <input type="time" name="av_from_time" id="av_from_time">
            <label for="av_to_time">To</label>
            <input type="time" name="av_to_time" id="av_to_time"><br><br>
            <h4>Break time</h4> <br>
            <label for="bk_from_time">From</label>
            <input type="time" name="bk_from_time" id="bk_from_time">
            <label for="bk_to_time">To</label>
            <input type="time" name="bk_to_time" id="bk_to_time"><br><br>
            <input type="submit" name="updateEdittime" id="" >
        </form>
    </div>
    <script>
        // Function to parse URL parameters
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }

        // Retrieve the value of the arguments
        // http://localhost/doctor/edittime.html?doc_id=doc608&date=2024-05-09&av_from_time=10:30&av_to_time20:00&bk_from_time12:30&bk_to_time13:00
        var doc_name = getParameterByName('doc_name');
        var doc_id = getParameterByName('doc_id');
        var date = getParameterByName('date');
        var av_from_time = getParameterByName('av_from_time');
        var av_to_time = getParameterByName('av_to_time');
        var bk_from_time = getParameterByName('bk_from_time');
        var bk_to_time = getParameterByName('bk_to_time');
        // Do something with the arguments
        document.getElementById("doc_name").value = doc_name;
        document.getElementById("doctor_id").value = doc_id;
        document.getElementById("date").value = date;
        document.getElementById("av_from_time").value = av_from_time;
        document.getElementById("av_to_time").value = av_to_time;
        document.getElementById("bk_from_time").value = bk_from_time;
        document.getElementById("bk_to_time").value = bk_to_time;


    </script>
</body>
</html>